"use strict";(self["webpackChunkVAMS"]=self["webpackChunkVAMS"]||[]).push([[64],{8544:function(e,a,t){t.d(a,{A:function(){return i}});var l=t(2925),n=t(5586);const o=["#FF5733","#33FF57","#3357FF","#FF33A1","#33FFF5","#FFC300","#DAF7A6","#900C3F","#581845","#C70039","#900C3F","#FF5733","#1A5276","#229954","#AF7AC5","#F39C12","#2980B9","#1ABC9C","#2E4053","#7D3C98","#C0392B","#BDC3C7","#7F8C8D","#34495E","#E74C3C","#8E44AD","#2ECC71","#F1C40F","#3498DB","#E67E22","#16A085","#D35400","#AAB7B8","#ABB2B9","#E59866","#F5B041","#F7DC6F","#1F618D","#F0B27A","#EC7063"];async function i(e,a=!1,t){const i=new l.vK("districtmap").addTo(e);i.setOptions({cursor:"auto"});let s=[];const c=localStorage.getItem("districtmapConfig");if(s=c?JSON.parse(c):(await n.pW.list()).map((e=>({name:e,show:!0}))),a){const a=new l.vK("draw").addTo(e),t=new l.Bk({mode:"Polygon"}).addTo(e).disable();t.on("drawend",(e=>{console.log(e.geometry),a.addGeometry(e.geometry),t.disable()}));const n=["Polygon","Circle","Rectangle"].map((e=>({item:e,click:()=>{a.clear(),t.setMode(e).enable()}})));new l.A4.Toolbar({items:[...n,{item:"Disable",click:()=>t.disable()},{item:"Clear",click:()=>a.clear()}]}).addTo(e)}async function r(){const e=s.map((async(e,a)=>{const t=await n.pW.get(e.name),s=l.kx.toGeometry(t,(e=>{e.setSymbol({lineColor:o[a],lineOpacity:1,lineWidth:1,polygonFill:o[a],polygonOpacity:.7}),e.addTo(i)}));return e.show||s.forEach((e=>e.hide())),{geometry:s,name:e.name}}));return await Promise.all(e)}const u=await r();return{change:({name:e,show:a})=>{const{geometry:t}=u.find((a=>a.name===e));a?t.forEach((e=>e.show())):t.forEach((e=>e.hide()))},selectAll:()=>{u.forEach((e=>{e.geometry.forEach((e=>e.show()))}))},unselectAll:()=>{u.forEach((e=>{e.geometry.forEach((e=>e.hide()))}))}}}},7343:function(e,a,t){t.d(a,{A:function(){return o}});var l=t(2925);function n({center_lat:e,center_lon:a,width:t,height:l}){const n=a-t/2,o=a+t/2,i=e-l/2,s=e+l/2;return[n,i,o,s]}function o(e){const a=new l.vK("bboxLayer");a.addTo(e);const t=new l.PQ("imgLayer");return t.addTo(e),{draw:(o,i)=>{a.clear();const s=l.kx.toGeometry(o.metadata);s[0].addTo(a),a.setOpacity(.5);const c=n(o.metadata.features[0].properties);t.setImages([{url:`/tracing/img/${o.name}/${i}.jpg`,extent:c,opacity:1}]);const{center_lat:r,center_lon:u}=o.metadata.features[0].properties;e.setCenterAndZoom([u,r],13)}}}},7972:function(e,a,t){t.d(a,{A:function(){return c}});var l=t(2925);const n=["#42a7ff","#f6ff42","#ff5542","#3bcc62"],o=["normal","doubt","illegal","loitering"];function i(e){const a=e.getSymbol();a.markerWidth=20,a.markerHeight=40,a.markerDy=20,e.setSymbol(a),e.bringToFront()}function s(e){const a=e.getSymbol();a.markerWidth=10,a.markerHeight=20,a.markerDy=10,e.setSymbol(a),e.bringToBack()}function c(e,a){const t=new l.vK("vessel-layer").addTo(e);let c=null,r=null,u=[];function d({coordinate:e,target:l}){if(l.getId()!==r&&r){const e=t.getGeometryById(r);s(e)}r=l.getId(),a({coord:e,elements:l.getProperties()})}function v({target:e}){i(e)}function m({target:e}){r!==e.getId()&&s(e)}return{highlight:e=>{const a=t.getGeometryById(e);i(a)},normalize:e=>{r=null;const a=t.getGeometryById(e);s(a)},filter:e=>{u=e,c.forEach((a=>{const t=a.getProperties(),l=t.fnf_bool?1:0;e.includes(o[l])?a.show():a.hide()}))},changeDateTime:e=>{t.clear();const a=Array.from(new Map(e.map((e=>[e.vesselid,e]))).values());c=a.map((e=>{const a=e.fnf_bool?1:0;e.fnf_bool||console.log("False value data:",e);const i=new l.pH([e.longitude,e.latitude],{id:e.vesselid,properties:e,symbol:{markerType:"pie",markerFill:n[a],markerFillOpacity:1,markerLineColor:"#000000",markerLineWidth:1,markerLineOpacity:1,markerLineDasharray:[],markerWidth:10,markerHeight:20,markerDx:0,markerDy:10,markerOpacity:1,markerRotation:180-e.cog}}).addTo(t);return i.on("click",d),i.on("mouseenter",v),i.on("mouseout",m),u.length?u.includes(o[a])?i.show():i.hide():e.fnf_bool?i.show():i.hide(),i}))}}}},2003:function(e,a,t){t.d(a,{A:function(){return h}});var l=t(6768),n=t(5130),o=t(4232),i=t(144),s=t(5586);const c={key:0},r={class:"title d-flex a-i-center"},u={class:"list d-flex"},d=["id","onUpdate:modelValue"],v=["for"];var m={__name:"DistrictmapConfig",props:{show:{type:Boolean,require:!0}},emits:["districtmapconfig:change","districtmapconfig:selectall","districtmapconfig:unselectall"],setup(e,{emit:a}){const t=["#FF5733","#33FF57","#3357FF","#FF33A1","#33FFF5","#FFC300","#DAF7A6","#900C3F","#581845","#C70039","#900C3F","#FF5733","#1A5276","#229954","#AF7AC5","#F39C12","#2980B9","#1ABC9C","#2E4053","#7D3C98","#C0392B","#BDC3C7","#7F8C8D","#34495E","#E74C3C","#8E44AD","#2ECC71","#F1C40F","#3498DB","#E67E22","#16A085","#D35400","#AAB7B8","#ABB2B9","#E59866","#F5B041","#F7DC6F","#1F618D","#F0B27A","#EC7063"],m=e,g=a,f=(0,i.KR)([]);function h({target:e}){localStorage.setItem("districtmapConfig",JSON.stringify(f.value)),g("districtmapconfig:change",{name:e.id,show:e._modelValue})}function p(){f.value.forEach((e=>{e.show=!0})),localStorage.setItem("districtmapConfig",JSON.stringify(f.value)),g("districtmapconfig:selectall")}function k(){f.value.forEach((e=>{e.show=!1})),localStorage.setItem("districtmapConfig",JSON.stringify(f.value)),g("districtmapconfig:unselectall")}return(0,l.sV)((async()=>{const e=localStorage.getItem("districtmapConfig");f.value=e?JSON.parse(e):(await s.pW.list()).map((e=>({name:e,show:!0})))})),(e,a)=>{const i=(0,l.g2)("f-a-icon");return(0,l.uX)(),(0,l.Wv)(n.eB,{name:"slide"},{default:(0,l.k6)((()=>[m.show?((0,l.uX)(),(0,l.CE)("section",c,[(0,l.Lk)("div",r,[(0,l.bF)(i,{icon:"gear"}),(0,l.eW)(" 구역도 설정 ")]),(0,l.Lk)("div",{class:"all-tools d-flex a-i-center"},[(0,l.Lk)("button",{onClick:p},"전체 선택"),(0,l.Lk)("button",{onClick:k},"전체 해제")]),(0,l.Lk)("div",u,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(f.value,((e,i)=>((0,l.uX)(),(0,l.CE)("div",{key:e.name},[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:e.name,"onUpdate:modelValue":a=>e.show=a,onChange:h,onFocus:a[0]||(a[0]=e=>e.preventDefault())},null,40,d),[[n.lH,e.show]]),(0,l.Lk)("label",{class:(0,o.C4)([e.show?"checked":"","d-flex","j-c-center","a-i-center"]),for:e.name},[(0,l.eW)((0,o.v_)(e.name)+" ",1),(0,l.Lk)("div",{style:(0,o.Tr)({background:t[i],width:"10px",height:"10px",borderRadius:"5px",marginLeft:"5px"})},null,4)],10,v)])))),128))])])):(0,l.Q3)("",!0)])),_:1})}}},g=t(1241);const f=(0,g.A)(m,[["__scopeId","data-v-0a348c25"]]);var h=f},489:function(e,a,t){t.d(a,{A:function(){return _}});t(4114);var l=t(6768),n=t(4232),o=t(144),i=t(5944),s=t(5586);const c=e=>((0,l.Qi)("data-v-7a8a8192"),e=e(),(0,l.jt)(),e),r={key:0,class:"list d-flex f-d-column"},u={class:"header d-flex a-i-center"},d=c((()=>(0,l.Lk)("span",null,"선박 목록",-1))),v={class:"table-wrapper"},m={class:"table"},g=c((()=>(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"IDX"),(0,l.Lk)("th",null,"MMSI"),(0,l.Lk)("th",null,"Ship Name"),(0,l.Lk)("th",null,"Flag Country")])],-1))),f=["onClick"],h={class:"d-flex j-c-center"},p={class:"pagination d-flex j-c-center"},k=["disabled"],y=["onClick","disabled"],C=["disabled"],b=10,w=10;var F={__name:"VesselList",props:{show:{type:Boolean,required:!0},list:{type:Array,required:!0}},emits:["list:close","info:show","info:hide","info:trajectory"],setup(e,{expose:a,emit:t}){const c=e,F=t,L=(0,o.KR)(0),A=(0,o.KR)(1),_=(0,o.KR)(null),D=(0,o.KR)(null);(0,l.wB)((()=>c.list),(()=>{L.value=0,A.value=1,_.value=null})),(0,l.wB)(_,(async e=>{e?(D.value=await s.X_.getMinMaxDateByVessel(e.mmsi),F("info:show",_.value)):(D.value=null,F("info:hide"))}));const E=(0,l.EW)((()=>Math.ceil(c.list.length/b))),I=(0,l.EW)((()=>{const e=[];for(let a=1;a<=w&&a+L.value*w<=E.value;a+=1)e.push(a+L.value*w);return e})),x=(0,l.EW)((()=>{const e=(A.value-1)*b,a=e+b;return c.list.filter(((t,l)=>l>=e&&l<a))})),K=(0,l.EW)((()=>L.value>0));function R(){L.value-=1,A.value=I.value[I.value.length-1]}const B=(0,l.EW)((()=>E.value/((L.value+1)*w)>1));function S(){L.value+=1,A.value=I.value[0]}return a({changeCurrentVessel:e=>{_.value=c.list.find((a=>a.vesselid===e.vesselid))}}),(a,t)=>{const s=(0,l.g2)("f-a-icon");return(0,l.uX)(),(0,l.CE)(l.FK,null,[e.show?((0,l.uX)(),(0,l.CE)("section",r,[(0,l.Lk)("div",u,[d,(0,l.Lk)("button",{onClick:t[0]||(t[0]=e=>F("list:close"))},[(0,l.bF)(s,{icon:"x"})])]),(0,l.Lk)("div",v,[(0,l.Lk)("table",m,[g,(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(x.value,(e=>((0,l.uX)(),(0,l.CE)("tr",{class:"data",key:e.vesselid,onClick:a=>_.value=e},[(0,l.Lk)("td",h,(0,n.v_)(e.idx),1),(0,l.Lk)("td",null,(0,n.v_)(e.mmsi),1),(0,l.Lk)("td",null,(0,n.v_)(e.shipname),1),(0,l.Lk)("td",null,(0,n.v_)(e.flagcountry),1)],8,f)))),128))])])]),(0,l.Lk)("div",p,[(0,l.Lk)("button",{class:"chevron",onClick:R,disabled:!K.value},[(0,l.bF)(s,{icon:"chevron-left"})],8,k),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(I.value,(e=>((0,l.uX)(),(0,l.CE)("button",{class:"page",key:e,onClick:a=>A.value=e,disabled:A.value===e},(0,n.v_)(e),9,y)))),128)),(0,l.Lk)("button",{class:"chevron",onClick:S,disabled:!B.value},[(0,l.bF)(s,{icon:"chevron-right"})],8,C)])])):(0,l.Q3)("",!0),e.show&&_.value?((0,l.uX)(),(0,l.Wv)((0,o.R1)(i.A),{key:1,style:{bottom:"10px"},vessel:_.value,"onInfo:close":t[1]||(t[1]=e=>_.value=null),"onInfo:trajectory":t[2]||(t[2]=e=>F("info:trajectory",_.value.mmsi))},null,8,["vessel"])):(0,l.Q3)("",!0)],64)}}},L=t(1241);const A=(0,L.A)(F,[["__scopeId","data-v-7a8a8192"]]);var _=A},6333:function(e,a,t){t.r(a),t.d(a,{default:function(){return Ce}});var l=t(6768),n=t(144),o=t(4232),i=t(5130),s=t(9798);const c=e=>((0,l.Qi)("data-v-d5767d44"),e=e(),(0,l.jt)(),e),r={id:"toolbar",class:"d-flex"},u={class:"d-flex tools"},d={class:"districtmap-config d-flex"},v=c((()=>(0,l.Lk)("div",{class:"divider"},null,-1))),m={class:"districtmap-config d-flex"},g=c((()=>(0,l.Lk)("div",{class:"divider"},null,-1))),f={class:"section-list d-flex"},h=["onClick","disabled"],p=c((()=>(0,l.Lk)("div",{class:"divider"},null,-1))),k={class:"section-list d-flex"},y=["onClick"],C=c((()=>(0,l.Lk)("div",{class:"divider"},null,-1))),b={class:"filter-list d-flex"},w=["id","value"],F=["for"],L=c((()=>(0,l.Lk)("div",{class:"divider"},null,-1))),A={class:"section-list d-flex"},_=c((()=>(0,l.Lk)("button",{class:"direct-service"},"빠른 서비스 창",-1)));var D={__name:"ToolBar",props:["selectedCoords"],emits:["section:change","trenchmap:change","filter:change","districtmapconfig:toggle","imglist:toggle","toolbar:draw"],setup(e,{emit:a}){const t=a,c=e,D=(0,n.KR)(""),E=[{name:"인천항"},{name:"부산항"},{name:"목포항"}];function I(e){D.value=e,t("section:change",e)}const x=(0,n.KR)(["doubt","illegal"]),K=[{name:"정상선박",value:"normal"},{name:"의심선박",value:"doubt"},{name:"불법선박",value:"illegal"},{name:"배회선박",value:"loitering"}];(0,l.wB)(x,(e=>{t("filter:change",e)}));const R=(0,n.KR)("big"),B=[{name:"대해구도",value:"big"},{name:"소해구도",value:"small"},{name:"없음",value:null}],S=(0,n.KR)(!1);function T(e){R.value=e,t("trenchmap:change",e)}return(e,a)=>((0,l.uX)(),(0,l.CE)("section",r,[(0,l.Lk)("div",u,[(0,l.Lk)("div",d,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=e=>t("districtmapconfig:toggle"))},"구역도 설정")]),v,(0,l.Lk)("div",m,[(0,l.Lk)("button",{onClick:a[1]||(a[1]=e=>t("imglist:toggle"))},"위성영상 리스트")]),g,(0,l.Lk)("div",f,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(B,(e=>(0,l.Lk)("button",{key:e.name,onClick:a=>T(e.value),class:"trenchmap",disabled:R.value===e.value},(0,o.v_)(e.name),9,h))),64))]),p,(0,l.Lk)("div",k,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(E,(e=>(0,l.Lk)("button",{key:e.name,onClick:a=>I(e.name)},(0,o.v_)(e.name),9,y))),64))]),C,(0,l.Lk)("div",b,[((0,l.uX)(),(0,l.CE)(l.FK,null,(0,l.pI)(K,(t=>(0,l.Lk)("div",{key:t.name},[(0,l.bo)((0,l.Lk)("input",{type:"checkbox",id:t.name,"onUpdate:modelValue":a[2]||(a[2]=e=>x.value=e),value:t.value,onChange:a[3]||(a[3]=(...a)=>e.onChangeFilter&&e.onChangeFilter(...a))},null,40,w),[[i.lH,x.value]]),(0,l.Lk)("label",{class:"d-flex j-c-center a-i-center",for:t.name},(0,o.v_)(t.name),9,F)]))),64))]),L,(0,l.Lk)("div",A,[(0,l.Lk)("button",{style:{width:"120px"},onClick:a[4]||(a[4]=e=>S.value=!S.value),class:(0,o.C4)([S.value?"req-activate":""])},"워크플로우 등록",2)])]),_,S.value?((0,l.uX)(),(0,l.Wv)(s.A,{key:0,"onReq:draw":a[5]||(a[5]=e=>t("toolbar:draw")),selectedCoords:c.selectedCoords,"onReq:close":a[6]||(a[6]=e=>S.value=!1)},null,8,["selectedCoords"])):(0,l.Q3)("",!0)]))}},E=t(1241);const I=(0,E.A)(D,[["__scopeId","data-v-d5767d44"]]);var x=I,K=t(8910),R=t(7972),B=t(5528),S=t(8544),T=t(9547),X=t(7343),W=t(489),j=t(2925),V=t(5586);const $=e=>((0,l.Qi)("data-v-2e48a01e"),e=e(),(0,l.jt)(),e),M=$((()=>(0,l.Lk)("div",{id:"map",class:"map"},null,-1)));var O={__name:"MainMap",emits:["info:show","data:load"],setup(e,{expose:a,emit:t}){const o=t;let i,s=null,c=null,r=null,u=null,d=null,v=null,m=null,g=null,f=null;const h=(0,n.KR)([]),p=(0,n.KR)(!0);function k({coord:e,elements:a,isChild:t}){s.animateTo({zoom:10,center:[e.x,e.y]},{duration:500,easing:"out"}),o("info:show",a,t)}function y(){p.value=!1}(0,l.sV)((async()=>{s=(0,K.A)(),r=await(0,B.A)(s),u=await(0,S.A)(s),d=(0,R.A)(s,k),i=(0,T.A)(s),c=(0,X.A)(s),f=new j.vK("draw-layer").addTo(s),g=new j.Bk({mode:"Polygon",symbol:{lineColor:"#34495e",lineWidth:2,polygonFill:"#1abc9c",polygonOpacity:.6}}).addTo(s).disable(),g.on("drawend",(e=>{const{geometry:a}=e;f.clear().addGeometry(a);const t=a.getCoordinates();o("draw:completed",t),g.disable()}))}));const C={"인천항":[126.6246844,37.4589868],"목포항":[126.383362,34.780277],"부산항":[129.0430982,35.1020946]};return a({changeCenter:e=>{s.animateTo({center:C[e],zoom:10},{duration:500,easing:"out"})},changeDatetime:async(e,a,t,l)=>{v=t,m=l;const n=await V.X_.getData(e,a),i=Array.isArray(n)?n:n?.data||[];h.value=[...i],h.value.sort(((e,a)=>{const t=e.flagcountry?.includes("Korea"),l=a.flagcountry?.includes("Korea");return t&&!l?-1:!t&&l?1:0})),setTimeout((()=>{d.changeDateTime(n),o("data:load")}),100)},showList:()=>{p.value=!0},changeTrenchmap:e=>{r.change(e)},changeDistrictmapConfig:e=>{u.change(e)},onSelectAllDistrict:()=>{u.selectAll()},onUnselectAllDistrict:()=>{u.unselectAll()},displayImg:(e,a)=>{c.draw(e,a)},changeFilter:e=>{d.filter(e)},highlight:e=>{d.highlight(e)},normalize:e=>{d.normalize(e),i.hide()},showTrajectory:async e=>{const a=await V.X_.getTrajectory(e,v.slice(0,8)+"000000",m.slice(0,8)+"000000"),t={type:"Feature",properties:{},geometry:{type:"LineString",coordinates:a.map((e=>[e.longitude,e.latitude]))}};i.load(t),o("data:load")},hideTrajectory:()=>{i.hide()},startDraw:()=>{f.clear(),g.enable()},stopDraw:()=>{g.disable()}}),(e,a)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[M,(0,l.bF)((0,n.R1)(W.A),{show:p.value,list:h.value,"onList:close":y,"onInfo:show":e.showVesselMarker,"onInfo:hide":e.hideVesselMarker,"onInfo:trajectory":e.showTrajectory},null,8,["show","list","onInfo:show","onInfo:hide","onInfo:trajectory"])],64))}};const Q=(0,E.A)(O,[["__scopeId","data-v-2e48a01e"]]);var z=Q,q=t(5017);const G=e=>((0,l.Qi)("data-v-84c02544"),e=e(),(0,l.jt)(),e),P={class:"range-selector"},U={class:"time-slider-wrap d-flex j-c-center a-i-center"},H={class:"current"},J=G((()=>(0,l.Lk)("datalist",{id:"tick"},[(0,l.Lk)("option",{value:"60"},"60")],-1))),N=0,Y=144;var Z={__name:"DatetimeSelector",emits:["change:datetime"],setup(e,{emit:a}){const t=a,s=(0,n.KR)(),c=(0,n.KR)(new Date),r=(0,n.KR)(new Date),u=(0,n.KR)(new Date),d=(0,n.KR)(10),v=(0,l.EW)((()=>{const e=Math.floor(d.value/6).toString().padStart(2,0),a=d.value%6+"0";return`${e} : ${a}`}));function m(e,a){u.value=new Date("2024-03-10")}function g(){const e=u.value.getFullYear(),a=(u.value.getMonth()+1).toString().padStart(2,0),l=u.value.getDate().toString().padStart(2,0),n=(u.value.getDate()+1).toString().padStart(2,0),o=Math.floor(d.value/6).toString().padStart(2,0),i=d.value%6+"0",s=d.value%6+1+"0",c=`${e}${a}${l}${o}${i}00`,r=`${e}${a}${l}${o}${s}00`,v=`${e}${a}${l}000000`,m=`${e}${a}${n}000000`;t("change:datetime",c,r,v,m)}return(0,l.sV)((async()=>{const{min:e,max:a}=await V.X_.getMinMaxDate();c.value=new Date(e),r.value=new Date(a),m(c.value,r.value),g()})),(e,a)=>((0,l.uX)(),(0,l.CE)("div",P,[(0,l.bF)((0,n.R1)(q.A),{modelValue:u.value,"onUpdate:modelValue":[a[0]||(a[0]=e=>u.value=e),g],"no-today":"",dark:"","auto-apply":"","year-first":"","enable-time-picker":!1,"week-start":"0",clearable:!1,placeholder:"Start Date Time",ui:{input:"date-picker__custom",calendar:"calendar__custom"},"min-date":c.value,"max-date":r.value},{month:(0,l.k6)((({value:e})=>[(0,l.eW)((0,o.v_)(e+1),1)])),"month-overlay-value":(0,l.k6)((({value:e})=>[(0,l.eW)((0,o.v_)(e+1),1)])),_:1},8,["modelValue","min-date","max-date"]),(0,l.Lk)("div",U,[(0,l.bo)((0,l.Lk)("input",{type:"range",list:"tick",ref_key:"sliderInput",ref:s,"onUpdate:modelValue":a[1]||(a[1]=e=>d.value=e),min:N,max:Y,onChange:g},null,544),[[i.Jo,d.value]]),(0,l.Lk)("span",H,(0,o.v_)(v.value),1),J])]))}};const ee=(0,E.A)(Z,[["__scopeId","data-v-84c02544"]]);var ae=ee,te=t(5944),le=t(3002),ne=t(2003);const oe={key:0},ie={class:"info"},se=["title"],ce=["disabled","onClick"],re=["disabled","onClick"],ue=["onClick"],de=["src"];var ve={__name:"ImgList",props:{show:{type:Boolean,require:!0}},emits:["img:display"],setup(e,{emit:a}){const t=e,s=a,c=(0,n.KR)([]),r=(0,n.KR)(""),u=(0,n.KR)("");function d(e,a){"result"!==a&&(r.value=e.name,u.value=a),s("img:display",e,a)}return(0,l.sV)((async()=>{c.value=await V.pV.getList()})),(e,a)=>((0,l.uX)(),(0,l.Wv)(i.eB,{name:"slide"},{default:(0,l.k6)((()=>[t.show?((0,l.uX)(),(0,l.CE)("section",oe,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(c.value,(e=>((0,l.uX)(),(0,l.CE)("div",{class:"content",key:e.name},[(0,l.Lk)("div",ie,[(0,l.Lk)("div",{class:"title",title:e.name},(0,o.v_)(e.name),9,se),(0,l.Lk)("div",null,[(0,l.Lk)("button",{disabled:r.value===e.name&&"convert"===u.value,onClick:a=>d(e,"convert")},"Show",8,ce),(0,l.Lk)("button",{disabled:r.value===e.name&&"bbox"===u.value,onClick:a=>d(e,"bbox")},"Bbox",8,re),(0,l.Lk)("button",{onClick:a=>d(e,"result"),style:{width:"100px"}},"MV-Tracing",8,ue)])]),(0,l.Lk)("img",{src:`/tracing/img/${e.name}/convert.jpg`,alt:""},null,8,de)])))),128))])):(0,l.Q3)("",!0)])),_:1}))}};const me=(0,E.A)(ve,[["__scopeId","data-v-c5e0f9c0"]]);var ge=me;const fe={class:"content"},he={key:1,class:"result-popup"},pe=["src"];var ke={__name:"VAMS",setup(e){const a=(0,n.KR)(),t=(0,n.KR)(),o=(0,n.KR)(!1),i=(0,n.KR)(!1),s=(0,n.KR)(!1),c=(0,n.KR)(!1),r=(0,n.KR)(""),u=(0,n.KR)([]),d=(0,n.KR)({}),v=(0,n.KR)(!1),m=(0,n.KR)(null);function g(){a.value.startDraw()}function f(e){m.value=e,alert("구역 설정이 완료되었습니다.")}function h(e){a.value.changeCenter(e)}function p(e){a.value.changeTrenchmap(e)}function k(e){a.value.changeFilter(e)}function y(e,t,l,n){o.value=!0,a.value.changeDatetime(e,t,l,n)}function C(e){a.value.changeDistrictmapConfig(e)}function b(){a.value.onSelectAllDistrict()}function w(){a.value.onUnselectAllDistrict()}function F(e,t){"result"===t?(r.value=e.name,c.value=!0):a.value.displayImg(e,t)}function L(e){d.value=e,a.value.hideTrajectory(),v.value=!0}function A(e){v.value=!1,u.value=[],a.value.normalize(e)}function _(e){o.value=!0,a.value.showTrajectory(e)}return(e,u)=>{const D=(0,l.g2)("f-a-icon");return(0,l.uX)(),(0,l.CE)("main",null,[o.value?((0,l.uX)(),(0,l.Wv)((0,n.R1)(le.A),{key:0})):(0,l.Q3)("",!0),(0,l.Lk)("div",fe,[(0,l.bF)((0,n.R1)(ne.A),{show:i.value,"onDistrictmapconfig:change":C,"onDistrictmapconfig:selectall":b,"onDistrictmapconfig:unselectall":w},null,8,["show"]),(0,l.bF)((0,n.R1)(ge),{show:s.value,"onImg:display":F},null,8,["show"]),(0,l.bF)((0,n.R1)(x),{"onSection:change":h,"onTrenchmap:change":p,"onFilter:change":k,"onDistrictmapconfig:toggle":u[0]||(u[0]=e=>i.value=!i.value),"onImglist:toggle":u[1]||(u[1]=e=>s.value=!s.value),"onToolbar:draw":g,selectedCoords:m.value},null,8,["selectedCoords"]),(0,l.bF)((0,n.R1)(z),{ref_key:"map",ref:a,"onInfo:show":L,"onData:load":u[2]||(u[2]=e=>o.value=!1),"onDraw:completed":f},null,512),v.value?((0,l.uX)(),(0,l.Wv)((0,n.R1)(te.A),{key:0,ref_key:"vesselInfo",ref:t,vessel:d.value,"onInfo:close":A,"onInfo:highlight":a.value.highlight,"onInfo:normalize":a.value.normalize,"onInfo:trajectory":_},null,8,["vessel","onInfo:highlight","onInfo:normalize"])):(0,l.Q3)("",!0),(0,l.bF)((0,n.R1)(ae),{"onChange:datetime":y})]),c.value?((0,l.uX)(),(0,l.CE)("div",he,[(0,l.Lk)("button",{onClick:u[3]||(u[3]=e=>c.value=!1)},[(0,l.bF)(D,{icon:"x"})]),(0,l.Lk)("img",{src:`/tracing/img/${r.value}/result.png`,alt:""},null,8,pe)])):(0,l.Q3)("",!0)])}}};const ye=(0,E.A)(ke,[["__scopeId","data-v-3ee98cda"]]);var Ce=ye}}]);
//# sourceMappingURL=64.71da029d.js.map