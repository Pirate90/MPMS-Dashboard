{"version":3,"file":"js/3.1d1a096d.js","mappings":"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","sources":["webpack://VAMS/./src/util/maptalks/districtmap.js","webpack://VAMS/./src/util/maptalks/img.js","webpack://VAMS/./src/util/maptalks/vessel.js","webpack://VAMS/./src/components/DistrictmapConfig.vue","webpack://VAMS/./src/components/DistrictmapConfig.vue?d8fc","webpack://VAMS/./src/components/tracing/ToolBar.vue","webpack://VAMS/./src/components/tracing/ToolBar.vue?1776","webpack://VAMS/./src/components/tracing/MainMap.vue","webpack://VAMS/./src/components/tracing/MainMap.vue?4c62","webpack://VAMS/./src/components/tracing/TracingPopup.vue","webpack://VAMS/./src/components/tracing/TracingPopup.vue?d57f","webpack://VAMS/./src/components/tracing/ImgList.vue","webpack://VAMS/./src/components/tracing/ImgList.vue?3af2","webpack://VAMS/./src/views/TracingView.vue","webpack://VAMS/./src/views/TracingView.vue?6560"],"sourcesContent":["import { GeoJSON, VectorLayer, DrawTool, control } from 'maptalks'\nimport { districtmapApi } from '@/apis'\n\nconst hexColor = ['#FF5733', '#33FF57', '#3357FF', '#FF33A1', '#33FFF5', '#FFC300', '#DAF7A6', '#900C3F', '#581845', '#C70039', '#900C3F', '#FF5733', '#1A5276', '#229954', '#AF7AC5', '#F39C12', '#2980B9', '#1ABC9C', '#2E4053', '#7D3C98', '#C0392B', '#BDC3C7', '#7F8C8D', '#34495E', '#E74C3C', '#8E44AD', '#2ECC71', '#F1C40F', '#3498DB', '#E67E22', '#16A085', '#D35400', '#AAB7B8', '#ABB2B9', '#E59866', '#F5B041', '#F7DC6F', '#1F618D', '#F0B27A', '#EC7063']\n\nexport default async function Districtmap (map, enablePolygon = false, getDataByPolygon) {\n  const layer = new VectorLayer('districtmap').addTo(map)\n  layer.setOptions({ cursor: 'auto' })\n\n  let districtmapList = []\n  const config = localStorage.getItem('districtmapConfig')\n  if (config) districtmapList = JSON.parse(config)\n  else districtmapList = (await districtmapApi.list()).map(d => ({ name: d, show: true }))\n\n  if (enablePolygon) {\n    const drawLayer = new VectorLayer('draw').addTo(map)\n    const drawTool = new DrawTool({\n      mode: 'Polygon'\n    }).addTo(map).disable()\n\n    drawTool.on('drawend', (param) => {\n      console.log(param.geometry)\n      drawLayer.addGeometry(param.geometry)\n      drawTool.disable()\n    })\n\n    const itms = ['Polygon', 'Circle', 'Rectangle'].map(v => ({\n      item: v,\n      click: () => {\n        drawLayer.clear()\n        drawTool.setMode(v).enable()\n      }\n    }))\n\n    new control.Toolbar({\n      items: [\n        ...itms,\n        { item: 'Disable', click: () => drawTool.disable() },\n        { item: 'Clear', click: () => drawLayer.clear() }\n      ]\n    }).addTo(map)\n  }\n\n  async function draw () {\n    const list = districtmapList.map(async (d, i) => {\n      const data = await districtmapApi.get(d.name)\n      const geometry = GeoJSON.toGeometry(data, g => {\n        g.setSymbol({\n          lineColor: hexColor[i],\n          lineOpacity: 1,\n          lineWidth: 1,\n          polygonFill: hexColor[i],\n          polygonOpacity: 0.7\n        })\n        g.addTo(layer)\n      })\n\n      if (!d.show) geometry.forEach(g => g.hide())\n\n      return { geometry, name: d.name }\n    })\n\n    return await Promise.all(list)\n  }\n\n  const geometries = await draw()\n\n  return {\n    change: ({ name, show }) => {\n      const { geometry } = geometries.find(g => g.name === name)\n\n      if (show) geometry.forEach(g => g.show())\n      else geometry.forEach(g => g.hide())\n    },\n    selectAll: () => {\n      geometries.forEach(a => {\n        a.geometry.forEach(g => g.show())\n      })\n    },\n    unselectAll: () => {\n      geometries.forEach(a => {\n        a.geometry.forEach(g => g.hide())\n      })\n    }\n  }\n}\n","import * as maptalks from 'maptalks'\n\nfunction extractImageExtent ({\n  center_lat: centerLat,\n  center_lon: centerLon,\n  width,\n  height\n}) {\n  const minLon = centerLon - (width / 2)\n  const maxLon = centerLon + (width / 2)\n  const minLat = centerLat - (height / 2)\n  const maxLat = centerLat + (height / 2)\n\n  return [minLon, minLat, maxLon, maxLat]\n}\n\nexport default function Img (map) {\n  const layer = new maptalks.VectorLayer('bboxLayer')\n  layer.addTo(map)\n\n  const imgLayer = new maptalks.ImageLayer('imgLayer')\n  imgLayer.addTo(map)\n\n  return {\n    draw: (info, type) => {\n      layer.clear()\n      const shape = maptalks.GeoJSON.toGeometry(info.metadata)\n      shape[0].addTo(layer)\n      layer.setOpacity(0.5)\n\n      const corners = extractImageExtent(info.metadata.features[0].properties)\n      imgLayer.setImages([\n        { url: `/tracing/img/${info.name}/${type}.jpg`, extent: corners, opacity: 1 }\n      ])\n\n      const { center_lat: centerLat, center_lon: centerLon } = info.metadata.features[0].properties\n      map.setCenterAndZoom([centerLon, centerLat], 13)\n    }\n  }\n}\n","import { Marker, VectorLayer } from 'maptalks'\n\nconst status = ['#42a7ff', '#f6ff42', '#ff5542', '#3bcc62']\nconst statusName = ['normal', 'doubt', 'illegal', 'loitering']\n\nfunction highlightMarker (marker) {\n  const symbol = marker.getSymbol()\n  symbol.markerWidth = 20\n  symbol.markerHeight = 40\n  symbol.markerDy = 20\n  marker.setSymbol(symbol)\n  marker.bringToFront()\n}\n\nfunction normalizeMarker (marker) {\n  const symbol = marker.getSymbol()\n  symbol.markerWidth = 10\n  symbol.markerHeight = 20\n  symbol.markerDy = 10\n  marker.setSymbol(symbol)\n  marker.bringToBack()\n}\n\nexport default function Vessel (map, callback) {\n  const layer = new VectorLayer('vessel-layer').addTo(map)\n  let markers = null\n  let selectedMarker = null\n  let currentFilter = []\n\n  function onMarkerClick ({ coordinate, target }) {\n    if (target.getId() !== selectedMarker && selectedMarker) {\n      const geo = layer.getGeometryById(selectedMarker)\n      normalizeMarker(geo)\n    }\n    selectedMarker = target.getId()\n\n    // eslint-disable-next-line\n    callback({ coord: coordinate, elements: target.getProperties() })\n  }\n\n  function onMarkerMouseEnter ({ target }) {\n    highlightMarker(target)\n  }\n\n  function onMarkerMouseOut ({ target }) {\n    if (selectedMarker === target.getId()) return\n\n    normalizeMarker(target)\n  }\n\n  return {\n    highlight: (id) => {\n      const marker = layer.getGeometryById(id)\n      highlightMarker(marker)\n    },\n    normalize: (id) => {\n      selectedMarker = null\n      const marker = layer.getGeometryById(id)\n      normalizeMarker(marker)\n    },\n    filter: (f) => {\n      currentFilter = f\n      markers.forEach(m => {\n        const props = m.getProperties()\n        const statusIndex = props.fnf_bool ? 1 : 0\n        if (f.includes(statusName[statusIndex])) {\n          m.show()\n        } else {\n          m.hide()\n        }\n      })\n    },\n    changeDateTime: (d) => {\n      layer.clear()\n      const uniqueData = Array.from(new Map(d.map(item => [item.vesselid, item])).values())\n      markers = uniqueData.map(md => {\n        // 1. Boolean 값을 숫자로 변환 (false -> 0, true -> 1)\n        const statusIndex = md.fnf_bool ? 1 : 0\n        if (!md.fnf_bool) console.log('False value data:', md)\n        const marker = new Marker([md.longitude, md.latitude], {\n          id: md.vesselid,\n          properties: md,\n          symbol: {\n            markerType: 'pie',\n            markerFill: status[statusIndex],\n            markerFillOpacity: 1,\n            markerLineColor: '#000000',\n            markerLineWidth: 1,\n            markerLineOpacity: 1,\n            markerLineDasharray: [],\n            markerWidth: 10,\n            markerHeight: 20,\n            markerDx: 0,\n            markerDy: 10,\n            markerOpacity: 1,\n            markerRotation: 180 - md.cog\n          }\n        }).addTo(layer)\n        // 2. 이벤트 등록 조건 수정 (md.fnf_bool이 불리언이므로 직접 비교)\n        // 기존의 '3'(문자열/숫자) 체크는 불리언 환경에선 불필요하므로 생략하거나 목적에 맞게 수정\n        marker.on('click', onMarkerClick)\n        marker.on('mouseenter', onMarkerMouseEnter)\n        marker.on('mouseout', onMarkerMouseOut)\n\n        // 3. 필터링 로직 수정\n        if (currentFilter.length) {\n          // currentFilter 배열 내에 해당 상태 이름이 있는지 확인\n          if (currentFilter.includes(statusName[statusIndex])) {\n            marker.show()\n          } else {\n            marker.hide()\n          }\n        } else {\n          // 필터가 없을 때의 기본 동작 (예: false인 경우 숨김)\n          if (!md.fnf_bool) {\n            marker.hide()\n          } else {\n            marker.show()\n          }\n        }\n        return marker\n      })\n    }\n  }\n}\n","<template>\n  <Transition name=\"slide\">\n    <section v-if=\"props.show\">\n      <div class=\"title d-flex a-i-center\">\n        <f-a-icon icon=\"gear\"/>\n        구역도 설정\n      </div>\n\n      <div class=\"all-tools d-flex a-i-center\">\n        <button @click=\"selectAll\">전체 선택</button>\n        <button @click=\"unselectAll\">전체 해제</button>\n      </div>\n\n      <div class=\"list d-flex\">\n        <div v-for=\"(d, i) in districtmapList\" :key=\"d.name\">\n          <input type=\"checkbox\" :id=\"d.name\" v-model=\"d.show\" @change=\"onChangeDistrictmap\" @focus=\"e => e.preventDefault()\">\n          <label :class=\"[d.show ? 'checked' : '', 'd-flex', 'j-c-center', 'a-i-center']\" :for=\"d.name\">\n            {{ d.name }}\n            <div :style=\"{ background: hexColor[i], width: '10px', height: '10px', borderRadius: '5px', marginLeft: '5px' }\"></div>\n          </label>\n        </div>\n      </div>\n    </section>\n  </Transition>\n</template>\n\n<script setup>\nimport { defineProps, defineEmits, onMounted, ref } from 'vue'\nimport { districtmapApi } from '@/apis'\n\nconst hexColor = ['#FF5733', '#33FF57', '#3357FF', '#FF33A1', '#33FFF5', '#FFC300', '#DAF7A6', '#900C3F', '#581845', '#C70039', '#900C3F', '#FF5733', '#1A5276', '#229954', '#AF7AC5', '#F39C12', '#2980B9', '#1ABC9C', '#2E4053', '#7D3C98', '#C0392B', '#BDC3C7', '#7F8C8D', '#34495E', '#E74C3C', '#8E44AD', '#2ECC71', '#F1C40F', '#3498DB', '#E67E22', '#16A085', '#D35400', '#AAB7B8', '#ABB2B9', '#E59866', '#F5B041', '#F7DC6F', '#1F618D', '#F0B27A', '#EC7063']\n\nconst props = defineProps({\n  show: {\n    type: Boolean,\n    require: true\n  }\n})\n\nconst emit = defineEmits(['districtmapconfig:change', 'districtmapconfig:selectall', 'districtmapconfig:unselectall'])\n\nconst districtmapList = ref([])\nonMounted(async () => {\n  const config = localStorage.getItem('districtmapConfig')\n  if (config) districtmapList.value = JSON.parse(config)\n  else districtmapList.value = (await districtmapApi.list()).map(d => ({ name: d, show: true }))\n})\n\nfunction onChangeDistrictmap ({ target }) {\n  localStorage.setItem('districtmapConfig', JSON.stringify(districtmapList.value))\n  emit('districtmapconfig:change', { name: target.id, show: target._modelValue })\n}\n\nfunction selectAll () {\n  districtmapList.value.forEach(d => {\n    d.show = true\n  })\n  localStorage.setItem('districtmapConfig', JSON.stringify(districtmapList.value))\n  emit('districtmapconfig:selectall')\n}\n\nfunction unselectAll () {\n  districtmapList.value.forEach(d => {\n    d.show = false\n  })\n  localStorage.setItem('districtmapConfig', JSON.stringify(districtmapList.value))\n  emit('districtmapconfig:unselectall')\n}\n</script>\n\n<style scoped>\n.slide-enter-active,\n.slide-leave-active {\n  transition: transform 0.5s ease;\n}\n\n.slide-enter-from,\n.slide-leave-to {\n  transform: translateX(-100%);\n}\n\nsection {\n  width: 270px;\n  height: calc(100% - 80px);\n  background: #222222;\n  position: absolute;\n  left: 0px;\n  top: 40px;\n  z-index: 1999;\n  box-shadow: 0 0 2px #fff;\n  padding: 10px;\n  overflow: hidden;\n}\n.title {\n  color: rgba(255, 255, 255, 0.8);\n  font: normal normal 600 18px/20px SUIT;\n  height: 30px;\n  gap: 10px;\n}\n.all-tools {\n  height: 50px;\n  padding: 10px 0;\n  gap: 10px;\n}\n.all-tools > button {\n  width: 110px !important;\n}\n.list {\n  height: calc(100% - 80px);\n  overflow-y: auto;\n  flex-direction: column;\n  gap: 5px;\n}\n.list > div {\n  position: relative;\n}\n.all-tools > button,\nlabel {\n  height: 25px;\n  width: 230px;\n  border: 1px solid #656565;\n  border-radius: 13px;\n  background: #222222;\n  font: normal normal 600 14px/20px SUIT;\n  letter-spacing: -0.75px;\n  color: #828282;\n  transition: all .2s;\n  background: #ffffff0d;\n  position: relative;\n}\n.all-tools > button:hover,\nlabel:hover {\n  cursor: pointer;\n  background: #757575;\n  color: #ffffff;\n}\nlabel.checked::before {\n  position: absolute;\n  left: 10px;\n  display: inline-block;\n  content: \"\";\n  background-image: url('../assets/check-icon.png');\n  background-size: cover;\n  object-fit: contain;\n  width: 13px;\n  height: 9px;\n  transition: transform .3s ease-in-out;\n  margin-right: 2px;\n}\ninput[type=\"checkbox\"]:checked+label::before {\n  transform: rotate(-360deg);\n  transition: transform .3s ease-in-out;\n}\n\ninput[type=\"checkbox\"]:checked+label {\n  background-color: #757575;\n  color: #fff;\n  transition: all .2s;\n}\n\ninput[type=\"checkbox\"] {\n  position: absolute;\n  opacity: 0;\n}\n.list::-webkit-scrollbar {\n  width: 5px;\n}\n.list::-webkit-scrollbar-thumb {\n  background-color: #757575;\n  border-radius: 3px;\n}\n.list::-webkit-scrollbar-track {\n  background-color: none;\n}\n</style>\n","import script from \"./DistrictmapConfig.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./DistrictmapConfig.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./DistrictmapConfig.vue?vue&type=style&index=0&id=0a348c25&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0a348c25\"]])\n\nexport default __exports__","<template>\n  <section id=\"toolbar\" class=\"d-flex\">\n    <div class=\"d-flex tools\">\n      <div class=\"districtmap-config d-flex\">\n        <button @click=\"emit('districtmapconfig:toggle')\">구역도 설정</button>\n      </div>\n      <div class=\"divider\"></div>\n      <div class=\"section-list d-flex\">\n        <button v-for=\"t in trenchmapList\" :key=\"t.name\" @click=\"onClickTrenchmap(t.value)\"\n          class=\"trenchmap\"\n          :disabled=\"currentTrenchmap === t.value\"\n        >\n          {{ t.name }}\n        </button>\n      </div>\n      <div class=\"divider\"></div>\n      <div class=\"section-list d-flex\">\n        <button v-for=\"s in sectionList\" :key=\"s.name\" @click=\"onClickSection(s.name)\">\n          {{ s.name }}\n        </button>\n      </div>\n    </div>\n\n    <button class=\"direct-service\">빠른 서비스 창</button>\n  </section>\n</template>\n\n<script setup>\nimport { ref, defineEmits } from 'vue'\n\nconst emit = defineEmits(['section:change', 'trenchmap:change', 'districtmapconfig:toggle'])\n\nconst currentSection = ref('')\nconst sectionList = [\n  { name: '인천항' },\n  { name: '부산항' },\n  { name: '목포항' }\n]\n\nfunction onClickSection (s) {\n  currentSection.value = s\n  emit('section:change', s)\n}\n\nconst currentTrenchmap = ref('big')\nconst trenchmapList = [\n  { name: '대해구도', value: 'big' },\n  { name: '소해구도', value: 'small' },\n  { name: '없음', value: null }\n]\n\nfunction onClickTrenchmap (t) {\n  currentTrenchmap.value = t\n  emit('trenchmap:change', t)\n}\n</script>\n\n<style scoped>\nsection {\n  position: absolute;\n  width: 100%;\n  height: 40px;\n  background: #222222;\n  z-index: 999;\n  top: 0;\n  right: 0;\n  /* opacity: 1; */\n  padding: 0 30px;\n  align-items: center;\n  justify-content: space-between;\n}\n.tools {\n  gap: 20px;\n}\n.divider {\n  width: 1.5px;\n  background-color: rgba(255, 255, 255, 0.4);\n}\n.section-list {\n  position: relative;\n}\n.section-list, .filter-list {\n  gap: 10px;\n}\n.section-list > button, label,\n.districtmap-config > button {\n  height: 25px;\n  width: 80px;\n  border: 1px solid #656565;\n  border-radius: 13px;\n  background: #222222;\n  font: normal normal 600 14px/20px SUIT;\n  letter-spacing: -0.75px;\n  color: #828282;\n  transition: all .2s;\n}\n.districtmap-config > button {\n  width: 100px;\n}\nlabel {\n  background: #ffffff0d;\n  width: 100px;\n}\n.section-list > button:hover,\nlabel:hover,\n.districtmap-config > button:hover,\n.req-activate {\n  cursor: pointer;\n  background: #757575;\n  color: #ffffff;\n}\n.trenchmap:disabled {\n  background-color: #757575 !important;\n  color: #ffffff;\n  cursor: auto !important;\n}\n\nlabel::before {\n  display: inline-block;\n  content: \"\";\n  background-image: url('../../assets/check-icon.png');\n  background-size: cover;\n  object-fit: contain;\n  width: 13px;\n  height: 9px;\n  transition: transform .3s ease-in-out;\n  margin-right: 2px;\n}\n\ninput[type=\"checkbox\"]:checked+label::before {\n  transform: rotate(-360deg);\n  transition: transform .3s ease-in-out;\n}\n\ninput[type=\"checkbox\"]:checked+label {\n  background-color: #757575;\n  color: #fff;\n  transition: all .2s;\n}\n\ninput[type=\"checkbox\"] {\n  display: absolute;\n}\n\ninput[type=\"checkbox\"] {\n  position: absolute;\n  opacity: 0;\n}\n\n.direct-service {\n  position: relative;\n  display: flex;\n  align-items: center;\n  width: 150px;\n  height: 25px;\n  border: 1px solid #FFFFFF;\n  border-radius: 13px;\n  background-color: rgba(255, 255, 255, 0.1);\n  padding: 0 10px;\n  color: #ffffff;\n  font: normal normal 500 14px/20px SUIT;\n  letter-spacing: -0.9px;\n  transition: all .2s;\n}\n.direct-service::after {\n  position: absolute;\n  right: 10px;\n  content: \"\";\n  background-image: url('../../assets/arrow-down-icon.png');\n  background-size: cover;\n  object-fit: contain;\n  width: 10px;\n  height: 6px;\n}\n.direct-service:hover {\n  cursor: pointer;\n  background-color: #757575;\n}\n</style>\n","import script from \"./ToolBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ToolBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ToolBar.vue?vue&type=style&index=0&id=4dcf0057&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4dcf0057\"]])\n\nexport default __exports__","<template>\n  <div id=\"map\" class=\"map\"></div>\n</template>\n\n<script setup>\nimport { onMounted, defineExpose, defineEmits } from 'vue'\nimport initMap from '@/util/maptalks/map'\nimport Trenchmap from '@/util/maptalks/trenchmap'\nimport Districtmap from '@/util/maptalks/districtmap'\nimport Img from '@/util/maptalks/img'\nimport Vessel from '@/util/maptalks/vessel'\n\nimport { doubtApi } from '@/apis'\n\nconst emit = defineEmits(['info:show'])\n\nlet map = null\nlet trenchmap = null\nlet districtmap = null\nlet img = null\nlet vessel = null\n\n// DOUBT\nonMounted(async () => {\n  map = initMap()\n\n  trenchmap = await Trenchmap(map)\n  districtmap = await Districtmap(map)\n  img = Img(map)\n\n  vessel = Vessel(map, onClickVessel)\n\n  const data = await doubtApi.getData(20240310014000, 20240310015000)\n  vessel.changeDateTime(data)\n})\n\nconst sectionList = {\n  인천항: [126.6246844, 37.4589868],\n  목포항: [126.383362, 34.780277],\n  부산항: [129.0430982, 35.1020946]\n}\n\nfunction onClickVessel ({ coord, elements, isChild }) {\n  map.animateTo({ zoom: 10, center: [coord.x, coord.y] }, {\n    duration: 500,\n    easing: 'out'\n  })\n  emit('info:show', elements, isChild)\n}\n\ndefineExpose({\n  changeCenter: (s) => {\n    map.animateTo({ center: sectionList[s], zoom: 10 }, {\n      duration: 500,\n      easing: 'out'\n    })\n  },\n  changeTrenchmap: (t) => {\n    trenchmap.change(t)\n  },\n  changeDistrictmapConfig: (e) => {\n    districtmap.change(e)\n  },\n  onSelectAllDistrict: () => {\n    districtmap.selectAll()\n  },\n  onUnselectAllDistrict: () => {\n    districtmap.unselectAll()\n  },\n\n  highlight: (id) => {\n    vessel.highlight(id)\n  },\n  normalize: (id) => {\n    vessel.normalize(id)\n  },\n\n  displayImg: (info, type) => {\n    img.draw(info, type)\n  }\n})\n</script>\n\n<style scoped>\n.map {\n  /* width: 100%; */\n  flex: 1;\n  height: 100%;\n}\n</style>\n\n<style>\n.map img {\n  filter: grayscale(100%) invert(100%) !important;\n}\n.pointer-cursor {\n  cursor: pointer;\n}\n</style>\n","import script from \"./MainMap.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./MainMap.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./MainMap.vue?vue&type=style&index=0&id=3ddfb350&scoped=true&lang=css\"\nimport \"./MainMap.vue?vue&type=style&index=1&id=3ddfb350&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3ddfb350\"]])\n\nexport default __exports__","<template>\n  <main>\n    <div class=\"header d-flex a-i-center\">\n      <button class=\"tab\" @click=\"currentTab = 'single'\" :disabled=\"currentTab === 'single'\">선박 이동경로 예측</button>\n      <button class=\"tab\" @click=\"currentTab = 'multi'\" :disabled=\"currentTab === 'multi'\">다중 선박 이동범위 추정</button>\n    </div>\n\n    <div class=\"container\">\n      <div class=\"content d-flex\" v-if=\"currentTab === 'single'\">\n        <div class=\"v-info d-flex a-i-center\" v-if=\"props.currentVessel?.shipname\">\n          <span>대상 선박</span>\n          <span>{{ props.currentVessel.shipname }}</span>\n        </div>\n\n        <div class=\"v-info d-flex a-i-center\" v-if=\"props.currentVessel?.shipname\">\n          <span>MMSI</span>\n          <span>{{ props.currentVessel.mmsi }}</span>\n        </div>\n\n        <div class=\"v-info d-flex a-i-center\" v-else>\n          <span>선택된 선박이 없습니다.</span>\n          <span></span>\n        </div>\n      </div>\n\n      <div class=\"content\" v-else></div>\n\n      <div class=\"content\">\n        <div>과거 위치 기점</div>\n        <VueDatePicker v-model=\"pastStartTIme\" no-today auto-apply :max-date=\"pastEndTime\" />\n      </div>\n      <div class=\"content\">\n        <div>과거 위치 종점</div>\n        <VueDatePicker v-model=\"pastEndTime\" no-today auto-apply :min-date=\"pastStartTIme\" :max-date=\"predictEndTime\" />\n      </div>\n      <div class=\"content\">\n        <div>예측 위치 종점</div>\n        <VueDatePicker v-model=\"predictEndTime\" no-today auto-apply :min-date=\"pastEndTime\" />\n      </div>\n    </div>\n    <button class=\"footer\">Process</button>\n  </main>\n</template>\n\n<script setup>\nimport { ref, defineProps } from 'vue'\nimport VueDatePicker from '@vuepic/vue-datepicker'\n\nconst props = defineProps({\n  currentVessel: {\n    type: Object,\n    required: true\n  }\n})\n\nconst currentTab = ref('single')\n\nconst today = new Date()\ntoday.setHours(0)\ntoday.setMinutes(0)\ntoday.setSeconds(0)\nconst pastStartTIme = ref(new Date(new Date(today).setHours(today.getHours() - 3)))\nconst pastEndTime = ref(new Date(today))\nconst predictEndTime = ref(new Date(new Date(today).setHours(today.getHours() + 3)))\n</script>\n\n<style scoped>\nmain {\n  display: block !important;\n  position: absolute;\n  bottom: 10px;\n  right: 10px;\n  width: 450px;\n  min-height: 300px;\n  background: #fff;\n  border-radius: 10px;\n  box-shadow: 0 0 5px #333333;\n}\n.header {\n  height: 50px;\n  width: 100%;\n}\n.header > button {\n  height: 100%;\n  border: none;\n  background: none;\n  border-bottom: 1px solid #DDDDDD;\n}\n.header > .tab {\n  font: normal normal 800 18px/20px SUIT;\n  letter-spacing: -0.45px;\n  color: #bbbbbb;\n  flex: 1;\n  white-space: nowrap;\n  cursor: pointer;\n  padding: 0 20px;\n  border-right: 1px solid #DDDDDD;\n  border-bottom: 1px solid #DDDDDD;\n}\n.header > .tab:disabled {\n  color: #444444;\n  border-bottom: none;\n  cursor: auto;\n}\n.container {\n  padding: 20px;\n}\n.content {\n  margin-bottom: 10px;\n  gap: 10px;\n}\n.v-info {\n  background: #F8F8F8;\n  border-radius: 5px;\n  padding: 0 15px;\n  height: 40px;\n  flex: 1;\n  justify-content: space-between;\n}\n.v-info > span:first-child {\n  font: normal normal bold 14px/20px SUIT;\n  letter-spacing: -0.35px;\n  color: #777777;\n  white-space: nowrap;\n}\n.v-info > span:last-child {\n  font: normal normal 600 15px/20px SUIT;\n  letter-spacing: -0.4px;\n  color: #444444;\n  text-align: right;\n}\n.content:last-child {\n  margin-bottom: 0;\n}\n.footer {\n  width: 100%;\n  padding: 10px;\n  border: none;\n  border-top: 1px solid #DDDDDD;\n  background: none;\n  cursor: pointer;\n  border-radius: 0 0 10px 10px;\n  font: normal normal 600 16px/20px SUIT;\n}\n.footer:hover {\n  background: #f3f3f3;\n}\n</style>\n","import script from \"./TracingPopup.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TracingPopup.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TracingPopup.vue?vue&type=style&index=0&id=aba243f4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-aba243f4\"]])\n\nexport default __exports__","<template>\n  <section class=\"main\">\n    <div class=\"content\" v-for=\"i in imgList\" :key=\"i.name\">\n      <div class=\"info\">\n        <div class=\"title\" :title=\"i.name\">{{ i.name }}</div>\n        <div>\n          <button :disabled=\"currentImg === i.name && currentType === 'convert'\" @click=\"onClickImg(i, 'convert')\">Show</button>\n          <button :disabled=\"currentImg === i.name && currentType === 'bbox'\" @click=\"onClickImg(i, 'bbox')\">Bbox</button>\n          <button @click=\"onClickImg(i, 'result')\" style=\"width: 100px;\">MV-Tracing</button>\n        </div>\n      </div>\n      <img :src=\"`/tracing/img/${i.name}/convert.jpg`\" alt=\"\">\n    </div>\n  </section>\n</template>\n\n<script setup>\nimport { onMounted, ref, defineEmits } from 'vue'\nimport { tracingApi } from '@/apis'\n\nconst emit = defineEmits(['img:display'])\n\nconst imgList = ref([])\nconst currentImg = ref('')\nconst currentType = ref('')\n\nonMounted(async () => {\n  imgList.value = await tracingApi.getList()\n})\n\nfunction onClickImg (i, type) {\n  if (type !== 'result') {\n    currentImg.value = i.name\n    currentType.value = type\n  }\n  emit('img:display', i, type)\n}\n</script>\n\n<style scoped>\nsection {\n  position: absolute;\n  top: 40px;\n  left: 0;\n  height: calc(100% - 40px);\n  width: 400px;\n  background: #222;\n  border-top: 1px solid #7a7a7a;\n  box-shadow: 0 0 2px #fff;\n  overflow-y: auto;\n  overflow-x: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.content {\n  display: flex;\n  justify-content: space-between;\n  gap: 10px;\n  padding: 10px 20px;\n}\n.content:not(:last-child) {\n  border-bottom: 1px solid #fff;\n}\n\n.info {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n\n.title {\n  font: normal normal 600 15px/20px SUIT;\n  letter-spacing: -0.75px;\n  color: #fff;\n  overflow-x: hidden;\n  white-space: normal; /* 기본값: 자동 줄바꿈 */\n  word-break: break-word; /* 단어 단위 줄바꿈 허용 */\n  /* white-space: nowrap;\n  text-overflow: ellipsis; */\n}\n\n.info > div > button {\n  height: 25px;\n  width: 80px;\n  border: 1px solid #656565;\n  border-radius: 13px;\n  background: #222222;\n  font: normal normal 600 14px/20px SUIT;\n  letter-spacing: -0.75px;\n  color: #828282;\n  transition: all .2s;\n  margin: 3px 3px;\n}\n.info > div > button:hover {\n  cursor: pointer;\n  background: #757575;\n  color: #ffffff;\n}\n.info > div > button:disabled {\n  background: #757575;\n  color: #ffffff;\n  cursor: auto;\n}\n\nimg {\n  flex: 1;\n  width: 150px;\n  height: 150px;\n}\n</style>\n","import script from \"./ImgList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ImgList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./ImgList.vue?vue&type=style&index=0&id=5f612164&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5f612164\"]])\n\nexport default __exports__","<template>\n  <main>\n    <LoadingSpinner v-if=\"isLoading\"/>\n    <!-- <DistrictmapConfigModal v-if=\"showDistrictmapConfig\" @districtmapconfig:close=\"showDistrictmapConfig = false\"></DistrictmapConfigModal> -->\n    <div class=\"content\">\n      <DistrictmapConfig :show=\"showDistrictmapConfig\"\n        @districtmapconfig:change=\"onChangeDistrictmapConfig\"\n        @districtmapconfig:selectall=\"onSelectall\"\n        @districtmapconfig:unselectall=\"onUnselectall\"\n      ></DistrictmapConfig>\n      <ToolBar @section:change=\"onChangeSection\"\n        @trenchmap:change=\"onChangeTrenchmap\"\n        @districtmapconfig:toggle=\"showDistrictmapConfig = !showDistrictmapConfig\"\n      ></ToolBar>\n      <MainMap ref=\"map\" @info:show=\"showVesselInfo\" @data:load=\"isLoading = false\"></MainMap>\n\n      <TracingPopup :currentVessel=\"currentVessel\"/>\n      <ImgList @img:display=\"displayImg\"/>\n    </div>\n\n    <div class=\"result-popup\" v-if=\"displayResult\">\n      <button @click=\"displayResult = false\"><f-a-icon icon=\"x\" /></button>\n      <img :src=\"`/tracing/img/${currentResult}/result.png`\" alt=\"\">\n    </div>\n  </main>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport ToolBar from '@/components/tracing/ToolBar'\nimport MainMap from '@/components/tracing/MainMap'\nimport LoadingSpinner from '@/components/LoadingSpinner'\nimport DistrictmapConfig from '@/components/DistrictmapConfig'\nimport TracingPopup from '@/components/tracing/TracingPopup.vue'\nimport ImgList from '@/components/tracing/ImgList.vue'\n\nconst map = ref()\n\nconst isLoading = ref(false)\nconst showDistrictmapConfig = ref(false)\nconst currentVessel = ref({})\nconst displayResult = ref(false)\nconst currentResult = ref('')\n\nfunction onChangeSection (s) {\n  map.value.changeCenter(s)\n}\nfunction onChangeTrenchmap (t) {\n  map.value.changeTrenchmap(t)\n}\nfunction onChangeDistrictmapConfig (e) {\n  map.value.changeDistrictmapConfig(e)\n}\nfunction onSelectall () {\n  map.value.onSelectAllDistrict()\n}\nfunction onUnselectall () {\n  map.value.onUnselectAllDistrict()\n}\n\nfunction displayImg (info, type) {\n  if (type === 'result') {\n    currentResult.value = info.name\n    displayResult.value = true\n  } else {\n    map.value.displayImg(info, type)\n  }\n}\n\nfunction showVesselInfo (e) {\n  currentVessel.value = e\n}\n</script>\n\n<style scoped>\nmain {\n  display: flex;\n}\n.content {\n  position: relative;\n  flex: 1;\n}\n\n.result-popup {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  max-width: 80%;\n  max-height: 80%;\n  background: #fff;\n}\n.result-popup > img {\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n}\n.result-popup > button {\n  position: absolute;\n  border: none;\n  background: #F3463D;\n  color: #ffffff;\n  font-size: 15px;\n  width: 30px;\n  height: 30px;\n  border-radius: 8px;\n  right: 10px;\n  top: 10px;\n}\n.result-popup > button:hover {\n  cursor: pointer;\n  opacity: 0.7;\n}\n</style>\n","import script from \"./TracingView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./TracingView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./TracingView.vue?vue&type=style&index=0&id=7372e8ff&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7372e8ff\"]])\n\nexport default __exports__"],"names":["hexColor","async","Districtmap","map","enablePolygon","getDataByPolygon","layer","VectorLayer","addTo","setOptions","cursor","districtmapList","config","localStorage","getItem","JSON","parse","districtmapApi","list","d","name","show","drawLayer","drawTool","DrawTool","mode","disable","on","param","console","log","geometry","addGeometry","itms","v","item","click","clear","setMode","enable","control","Toolbar","items","draw","i","data","get","GeoJSON","toGeometry","g","setSymbol","lineColor","lineOpacity","lineWidth","polygonFill","polygonOpacity","forEach","hide","Promise","all","geometries","change","find","selectAll","a","unselectAll","extractImageExtent","center_lat","centerLat","center_lon","centerLon","width","height","minLon","maxLon","minLat","maxLat","Img","maptalks","imgLayer","info","type","shape","metadata","setOpacity","corners","features","properties","setImages","url","extent","opacity","setCenterAndZoom","status","statusName","highlightMarker","marker","symbol","getSymbol","markerWidth","markerHeight","markerDy","bringToFront","normalizeMarker","bringToBack","Vessel","callback","markers","selectedMarker","currentFilter","onMarkerClick","coordinate","target","getId","geo","getGeometryById","coord","elements","getProperties","onMarkerMouseEnter","onMarkerMouseOut","highlight","id","normalize","filter","f","m","props","statusIndex","fnf_bool","includes","changeDateTime","uniqueData","Array","from","Map","vesselid","values","md","Marker","longitude","latitude","markerType","markerFill","markerFillOpacity","markerLineColor","markerLineWidth","markerLineOpacity","markerLineDasharray","markerDx","markerOpacity","markerRotation","cog","length","__props","emit","__emit","ref","onChangeDistrictmap","setItem","stringify","value","_modelValue","onMounted","__exports__","currentSection","sectionList","onClickSection","s","currentTrenchmap","trenchmapList","onClickTrenchmap","t","trenchmap","districtmap","img","vessel","initMap","Trenchmap","onClickVessel","doubtApi","getData","인천항","목포항","부산항","isChild","animateTo","zoom","center","x","y","duration","easing","__expose","changeCenter","changeTrenchmap","changeDistrictmapConfig","e","onSelectAllDistrict","onUnselectAllDistrict","displayImg","currentTab","today","Date","setHours","setMinutes","setSeconds","pastStartTIme","getHours","pastEndTime","predictEndTime","imgList","currentImg","currentType","onClickImg","tracingApi","getList","isLoading","showDistrictmapConfig","currentVessel","displayResult","currentResult","onChangeSection","onChangeTrenchmap","onChangeDistrictmapConfig","onSelectall","onUnselectall","showVesselInfo"],"sourceRoot":""}